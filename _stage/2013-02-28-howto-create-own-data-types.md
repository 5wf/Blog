---
layout: post
title: "Howto: create own data types"
date: 2013-02-28 23:19
author: antje.kilian
comments: true
categories: [Uncategorized]
tags: []
language: en
---
{% include JB/setup %}
<p>&nbsp; <p>At this place I want to give some additional information’s about the subject I’ve already written about in <a href="http://code-inside.de/blog-in/2012/11/08/units-and-interaces/">this article</a>. It’s about how to show units in your code which are not given in the framework like file sizes (MB, GB), temperatures or unit of length. After I published the first article I received much feedback especially from <a href="https://twitter.com/norberteder">Norbert</a> and my coworker <a href="http://www.erik-baum.de/">Erik Baum</a> who got a little bit deeper into the subject. Erik improved the data type with some impressing features which I would like to present to you know: <p><b>Struct vs. class</b> <p><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://code-inside.de/blog/wp-content/uploads/image_thumb909.png" width="554" height="58"> <p>The first question people are used to ask me was: Why didn’t you use a struct for the data type? I know Structs from C and for me they were like a forerunner of classes. I knew that there are also structs for C# but I didn’t know how and when I should use them.  <p>Here the short answer: <p>You use structs to create types that act like integrated data types like for example DataTime. That’s exactly what we were looking for! The advantage is a lower Overhead and with that a reduced memory use. On the other hand structs are not able to do everything a class can. You can find a list in the <a href="http://msdn.microsoft.com/de-de/library/saxz13w4(v=vs.110).aspx">MSDN</a>.  <p><b>Overloaded operators</b> <p><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://code-inside.de/blog/wp-content/uploads/image_thumb910.png" width="552" height="208"> <p>If we are building a data type it would be nice if it is as easy to use as Datetime and so on. To use the operators +-/== they have to be overloaded. This is not too hard and it offers a lot of comfort for the user. <p><b></b> <p><b>The implicit operator</b> <p><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://code-inside.de/blog/wp-content/uploads/image_thumb911.png" width="556" height="210"> <p>The implicit operator offers the conversion of data types without the need to tell him to. With the help of this operator the following command is possible: <p><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://code-inside.de/blog/wp-content/uploads/image_thumb912.png" width="559" height="58"> <p><b>IComparable and IEquatable</b> <p><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://code-inside.de/blog/wp-content/uploads/image_thumb913.png" width="559" height="53"> <p>We allow our structs to inherit from these two interfaces. If you implement them you will be able to use many cool framework features. For example the Sort function for Arrays and lists uses IComparable Interface and that’s why we are able to sort our lists like that:  <p><img title="image" border="0" alt="image" src="http://code-inside.de/blog/wp-content/uploads/image_thumb914.png" width="564" height="48"> <p>The full code for the DataSize struct is available <a href="https://github.com/Code-Inside/Samples/tree/master/2013/DataTypes">here</a>.
