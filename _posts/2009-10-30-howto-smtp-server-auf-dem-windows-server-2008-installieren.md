---
layout: post
title: "HowTo: SMTP Server auf dem Windows Server 2008 installieren"
date: 2009-10-30 23:21
author: robert.muehsig
comments: true
categories: [HowTo]
tags: [HowTo, Mail, Server, Windows Server 2008]
---
<p><a href="{{BASE_PATH}}/assets/wp-images/image851.png"><img style="border-right: 0px; border-top: 0px; margin: 0px 10px 0px 0px; border-left: 0px; border-bottom: 0px" height="85" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb36.png" width="101" align="left" border="0"></a> </p> <p>Auch als Entwickler muss man manchmal kleinere Installationsaufgaben machen. Ich bekam die kleine Aufgabe einen <a href="http://de.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol">SMTP</a> Server auf einem Windows Server 2008 zu installieren. Da das etwas versteckt ist, hier ein kleines HowTo.</p><!--more--> <p><strong>Erster Ansatz: Gibt es eine Rolle?</strong></p> <p>Mein erster Ansatz war zu schauen ob sich der SMTP Server evtl. als Rolle hinzufügen lässt:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image852.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="108" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb37.png" width="244" border="0"></a></p> <p>Nein. Da war nix zu finden. Die Webserver Komponente ist aber trotzdem wichtig.</p> <p><em>Kurze Warnung: Ich bin kein IT Pro. Ich schreib das mit gesundem Halbwissen und es hat so bei mir funktioniert ;)</em></p> <p><strong>Richtiger Ansatz: Es ist ein Feature!</strong></p> <p>Über den "Add Feature" Link im Servermanagement vom Server 2008 kann man den SMTP Server als Feature hinzufügen:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image853.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="73" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb38.png" width="244" border="0"></a> </p> <p>Dann möchte er noch die IIS6 Komponenten hinzufügen:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image854.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="164" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb39.png" width="344" border="0"></a> </p> <p>Dies installiert man und danach (je nachdem welche Sachen nachinstalliert werden müssen) sollte man sowas sehen:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image855.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="127" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb40.png" width="244" border="0"></a> </p> <p><strong>SMTP Server versteckt sich im IIS6 Manager</strong></p> <p>Die Einstellungen vom SMTP Server kann man scheinbar nicht im IIS7 vornehmen, da dieser wohl noch komplett auf den IIS6 aufsetzt. Daher muss man über den IIS6 Manager gehen:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image856.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="98" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb41.png" width="244" border="0"></a> </p> <p>Dort findet man auch den SMTP Server:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image857.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="127" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb42.png" width="213" border="0"></a> </p> <p>*Rechtsklick* Eigenschaften und in den "Access" Tab wecheln:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image858.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="244" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb43.png" width="219" border="0"></a> </p> <p>Auf "Relay..." klicken:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image859.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="236" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb44.png" width="244" border="0"></a> </p> <p>"Add" klicken und dort die beliebige IP auswählen von dem Mails entgegengenommen werden und verschickt werden.</p> <p>Ich hab dies auf meinen Webserver mit installiert, daher 127.0.0.1:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image860.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="214" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb45.png" width="244" border="0"></a> </p> <p>Resultat:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image861.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="239" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb46.png" width="244" border="0"></a> </p> <p>Nun kann man über den "localhost" in den SMTP Einstellung der Anwendung Mails versenden.</p> <p>Diese Anleitung habe ich auf <a href="http://www.itsolutionskb.com/2008/11/installing-and-configuring-windows-server-2008-smtp-server/">diesem Blog</a> gefunden gehabt.</p> <p><strong>Für die Entwicklungsmaschine: Wenn man kein SMTP Server installieren will</strong></p> <p>Wenn man keinen SMTP Server installieren möchte (z.B. auf seiner Entwicklungsumgebung), dann kann man die "Mail" Funktion auch über einen anderen Trick gut testen: <a href="http://code-inside.de/blog/2009/03/16/howto-senden-von-emails-testen-ohne-mailserver/">HowTo: Senden von Emails testen ohne Mailserver</a></p>
