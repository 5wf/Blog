---
layout: post
title: "HowTo: SQL Tabellen Beziehungen erstellen per Drag´n´Drop"
date: 2009-02-18 01:16
author: Robert Muehsig
comments: true
categories: [HowTo]
tags: [HowTo, SQL, SQL Server]
language: de
---
{% include JB/setup %}
<p><a href="{{BASE_PATH}}/assets/wp-images-de/image655.png"><img style="border-right: 0px; border-top: 0px; margin: 0px 10px 0px 0px; border-left: 0px; border-bottom: 0px" height="85" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb633.png" width="130" align="left" border="0" /></a>Durch die Verkn&#252;pfung von Prim&#228;r- und Fremdsch&#252;sseln in Datenbanken bekommt man viele Vorteile. Der Gr&#246;&#223;te ist sicherlich die <a href="http://de.wikipedia.org/wiki/Referenzielle_Integrit%C3%A4t">Datenintegrit&#228;t</a>, aber auch etwas abseits der Datenbank-Welt k&#246;nnen z.B. <a href="http://en.wikipedia.org/wiki/Object-relational_mapping">O/R Mapper</a> diese &quot;Beziehungen&quot; zwischen Tabellen nutzen und so bereits ein strukturierteres Datenmodell generieren.&#160; <br />Solche Verkn&#252;pfungen zwischen Tabellen kann man auch im SQL Server schnell erstellen, ohne sich durch X-Dialoge zu klicken - ganz einfach per Drag&#180;n&#180;Drop</p> 
<!--more-->
  <p><strong>Kurz zur Geschichte:</strong>    <br />Als ich vor X-Jahren das erste mal mit PHP und MySQL programmiert habe, nutzte ich auch den <a href="http://www.phpmyadmin.net/home_page/index.php">phpmyadmin</a> und hab fleissig meine Tabellen angelegt und die &quot;im Kopf&quot; verbunden. Das Tool hatte damals (ich wei&#223; nicht ob es sich jetzt inzwischen ver&#228;ndert hat) keine einfache M&#246;glichkeit die Beziehungen zwischen den Tabellen zu erstellen und das SQL selber einzugeben war zwar aus heutiger Sicht eine M&#246;glichkeit, hatte ich aber damals nicht gewusst ;)</p>  <p><strong>Der Nutzen heute (f&#252;r mich)</strong>    <br />Da ich nun immer h&#228;ufiger mit <a href="http://msdn.microsoft.com/de-de/library/bb386976.aspx">Linq2Sql</a> oder dem <a href="http://msdn.microsoft.com/en-us/library/aa697427(VS.80).aspx">ADO.NET Entity Framework</a> (etc.) arbeite, welche mein Datenmodell, welches im SQL Server gespeichert ist, auch als .NET Objekte abbilde, ist es nat&#252;rlich enorm wichtig, dass auch die Beziehungen zu anderen Entities erkannt werden. Solche Beziehungen k&#246;nnen sehr einfach im SQL Management Studio bzw. direkt im Visual Studio in der Datenbank erstellt werden:</p>  <p><strong>Variante A: Mit Dialogen</strong></p>  <p>Tabelle ausw&#228;hlen -&gt; Spalten -&gt; Editieren:</p>  <p><a href="{{BASE_PATH}}/assets/wp-images-de/image656.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="136" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb634.png" width="244" border="0" /></a> </p>  <p>*Rechtsklick* -&gt; Relationships...</p>  <p><a href="{{BASE_PATH}}/assets/wp-images-de/image657.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="144" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb635.png" width="244" border="0" /></a> </p>  <p>Add -&gt; Tables and Column Specification:</p>  <p><a href="{{BASE_PATH}}/assets/wp-images-de/image658.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="102" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb636.png" width="244" border="0" /></a> </p>  <p>Passende Tabelle/Spalten ausw&#228;hlen:</p>  <p><a href="{{BASE_PATH}}/assets/wp-images-de/image659.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="122" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb637.png" width="244" border="0" /></a> </p>  <p><strong>Variante B: &#220;ber ein Datenbank-Diagramm</strong></p>  <p><a href="{{BASE_PATH}}/assets/wp-images-de/image660.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="104" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb638.png" width="244" border="0" /></a> </p>  <p>Das wollen wir:</p>  <p><a href="{{BASE_PATH}}/assets/wp-images-de/image661.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="144" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb639.png" width="405" border="0" /></a> </p>  <p>... und nun einfach mit der Maus von dem Prim&#228;rschl&#252;ssel auf den Fremdschl&#252;ssel ziehen:</p>  <p><a href="{{BASE_PATH}}/assets/wp-images-de/image662.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="132" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb640.png" width="408" border="0" /></a> </p>  <p>Es erscheint daraufhin auch wieder der Dialog von oben in dem man noch weitere Optionen einstellen kann.</p>  <p><strong>Fazit:     <br /></strong>Variante B ist wesentlich zeitschonender und Klicki-Bunti ;)    <br />Variante C ist nat&#252;rlich das ganze als SQL Befehl zu formulieren.</p>  <p>PS: <em>Falls ihr euch fragt, warum ich sowas Triviales poste: Ich hatte den &quot;Trick&quot; erst vor kurzem erfahren und manchmal machen es ja die kleinen Dinge :)</em></p>
