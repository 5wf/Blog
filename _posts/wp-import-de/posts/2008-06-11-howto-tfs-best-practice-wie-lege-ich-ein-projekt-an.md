---
layout: post
title: "HowTo: TFS Best Practice - Wie lege ich ein Projekt an?"
date: 2008-06-11 22:38
author: robert.muehsig
comments: true
categories: [HowTo]
tags: ["ReadYou", HowTo, Team Explorer, Team Foundation Server]
language: de
---
{% include JB/setup %}
<p><a href="{{BASE_PATH}}/assets/wp-images-de/image443.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="58" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb422.png" width="500" border="0"></a>  </p> <p>Der TFS ist mit seinen ganzen tollen Funktionen sehr vielseitig, allerdings sollte man bereits am Anfang auf eine Sache achten: <strong>Wie strukturiere ich das Projekt? <br></strong>Damit sind keine "logischen" Strukturen gemeint, sondern wie lager ich die Dateien richtig im TFS? Gibt es einen Leitfaden?</p> <p>Die gute Nachricht: <a href="http://www.codeplex.com/TFSGuide">Ja - den TFS Guide</a>!</p> <p><strong>Hinweis:</strong> Im Rahmen des <a href="{{BASE_PATH}}/category/howtocode/">ReadYou-Projektes</a> werde ich den Source Code bei Codeplex (welche auf den TFS einsetzt) versuchen nach diesen Best-Practices unterzubringen. <br>Da dies allerdings (jedenfalls bei mir) immer mal wieder Kopfzerbrechen bereitet, ein kleines HowTo:</p> <p><strong>Warum das ganze eigentlich?<br></strong>Auf der Codeplex Seite des TFS Guides findet man viele Tipps, warum man dies so oder so machen sollte - ein deutlichste Bild nehm ich direkt mal aus den <a href="http://www.codeplex.com/TFSGuide/Release/ProjectReleases.aspx?ReleaseId=6280">Guide</a> (Seite 50):</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/image444.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="174" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb423.png" width="491" border="0"></a> </p> <p><strong>Erklärung:</strong><br>Es gibt in der Entwicklung immer einen "<strong>Main</strong>" Pfad - an diesem Pfad wird ständig gearbeitet. Irgendwann wird ein "<strong>Release 1</strong>" herausgegeben.<br>Jetzt beginnt die Phase, in der sicherlich im "<strong>Release 1</strong>" Bugs auftreten und Fixes etc. nachgeliefert werden müssen. Natürlich muss unser Hauptentwicklungsteam die Software während dieser Zeit im "<strong>Main</strong>" Pfad&nbsp; weiterentwickeln können. <br>Jetzt könnte es aber passieren, dass im "<strong>Release 1</strong>" ein Fehler auftritt der unbedingt gefixt werden muss - allerdings ist die Entwicklung zum "<strong>Release 2</strong>" schon sehr weit fortgeschritten. Komplette Codeteile sind neu geschrieben wurden! Ein "<strong>Patch</strong>" ist daher jetzt nicht machbar.<br>Das sowas nicht passiert macht man "<strong>Branches</strong>" (dt.: Zweige) und "<strong>merged</strong>" (dt.: wieder vereinen) die am Ende wieder (wenn es nötig ist) in den Entwicklungszweig.<br>Das mal als kurze Erklärung - das PDF gibt noch mehr Hinweise, warum und wieso man sowas machen sollte.</p> <p><strong>Schritt 1: Workspace anlegen</strong></p> <p> Als erstes muss auf unser Entwicklungsmaschine ein Workspace zum TFS Projekt her - daher gehen wir auf den <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=0ed12659-3d41-4420-bbb0-a46e51bfca86&amp;displaylang=en">Team Explorer</a> -&gt; Soure Control (kann hier runtergeladen werden) und klicken einfach beim Projekt auf "<strong>Get Latest Version</strong>":<br><a href="{{BASE_PATH}}/assets/wp-images-de/image445.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="159" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb424.png" width="244" border="0"></a></p> <p>Dort wählt man einen Speicherort aus - nachdem das gemacht wurde, sollte sowas zu sehen sein:<br><a href="{{BASE_PATH}}/assets/wp-images-de/image446.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="125" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb425.png" width="244" border="0"></a> </p> <p>Falls man feststellt, dass das Verzeichnis nicht das richtige war, muss man das Mapping im Workspace-Setting umstellen. Um hier rein zu kommen einfach mal hier klicken:<br><a href="{{BASE_PATH}}/assets/wp-images-de/image447.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="69" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb426.png" width="244" border="0"></a> </p> <p><strong>Schritt 2: Ordnerstruktur über den Team Explorer / Source Control anlegen</strong></p> <p>In diesem Schritt legen wir jetzt unsere Ordnerstruktur an - das wird genauso auch auf der Clientseite im Workspace übertragen.<a href="{{BASE_PATH}}/assets/wp-images-de/image448.png"><br><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="162" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb427.png" width="182" border="0"></a>&nbsp;</p> <p>Am Ende sollte man sowas haben - ein leeres Grundgerüst:<a href="{{BASE_PATH}}/assets/wp-images-de/image449.png"><br><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="150" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb428.png" width="236" border="0"></a>&nbsp;</p> <p><strong>Schritt 3: Leere Solution anlegen</strong></p> <p>Jetzt legen wir uns eine leere Solution an, dabei muss die Location auf "[Workspace-Ordner]\Main\Source" stehen!</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/image450.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="347" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb429.png" width="487" border="0"></a> </p> <p>Nachdem das gemacht wurde, sieht man das Solution-File auch bereits im TFS in der Source Control Ansicht:</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/image451.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="89" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb430.png" width="244" border="0"></a> </p> <p><strong>Schritt 4: Projekte anlegen</strong></p> <p>Die Projekte liegen nicht direkt mit dort, wo die Solution liegt, sondern in einem extra Source Ordner (im TFS Guide steht dazu, warum und wieso ;) ), daher habe ich einfach zwei Solution-Folder "Source" &amp; "Tests" (für die UnitTest-Projekte) angelegt:</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/image452.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="208" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb431.png" width="244" border="0"></a> </p> <p>Wichtig ist hierbei auch, dass als Location auch der "\Source" Unterordner angegeben ist - ansonsten wird es falsch abgespeichert:</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/image453.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="286" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb432.png" width="446" border="0"></a> </p> <p><strong>Tipp:</strong> Falls man was auf der Clientseite falsch gemacht hat, muss es auch auf dem TFS berichtigt werden - dazu gibt es einen unscheinbaren "Delete"-Knopf. In der Source Control Sicht den entsprechenden Ordner markieren &amp; löschen und dann auf "Checkin pending changes" - jetzt ist er wieder weg :)<a href="{{BASE_PATH}}/assets/wp-images-de/image454.png"><br><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="228" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb433.png" width="207" border="0"></a> </p> <p><strong>Schritt 5: Fertig</strong></p> <p>Wenn wir alles richtig gemacht haben, sieht es so aus:</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/image455.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="155" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb434.png" width="244" border="0"></a> </p> <p>Ich muss allerdings zugeben, dass die Solution-Folder nicht sein müssen, wichtig ist erstmal, dass es auf dem Server auch richtig hinterlegt ist:</p> <p><a href="{{BASE_PATH}}/assets/wp-images-de/image456.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="207" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image-thumb435.png" width="244" border="0"></a> </p> <p><strong>Abschließender Hinweis:</strong></p> <p>Das ist natürlich nur so einfach bei einem neuen Projekt - alte Projekte in diese Struktur packen ist sicherlich nicht ganz so leicht, aber auf der TFS Guide Seite findet man noch sehr viele Informationen darüber.</p> <p>Falls irgendwas mit meinen Ratschlägen nicht stimmt, dann einfach Feedback geben :)</p>
