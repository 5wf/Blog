---
layout: post
title: "HowToCode: Null Problemo mit Null, Exceptions & andere Rückgabetypen"
date: 2010-05-03 23:18
author: Robert Muehsig
comments: true
categories: [HowToCode]
tags: [Null]
language: de
---
{% include JB/setup %}
<p><a href="{{BASE_PATH}}/assets/wp-images-de/image964.png"><img style="border-right-width: 0px; margin: 0px 10px 0px 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" align="left" src="{{BASE_PATH}}/assets/wp-images-de/image_thumb149.png" width="110" height="121" /></a>Die Null-Diskussion die <a href="http://blog.thomasbandt.de/39/2333/de/blog/null-verstaendnis.html">Thomas Bandt begonnen</a> hatte flaut langsam ab und ich möchte hier mal für mich die Hauptpunkte niederschrieben. Die Hauptfrage war: Ist es OK Null bei einer Methode zurückzugeben, wenn z.B. kein User mit der ID 5 existiert? Macht man es über <a href="{{BASE_PATH}}/2009/02/06/howtocode-errorcodes-exceptions-den-user-informieren-wenn-etwas-schief-luft-wie-gehts/">Enums</a>? Oder über Exceptions?</p>  <p><strong>Beispiel: IUserRepository mit der Methode "GetUser(Guid id)”</strong></p>  <p>Wir stellen uns vor, wir hätten ein eines UserRepository was eine Get Methode besitzt, welche eine Guid als Parameter erwartet. </p>  <p><strong>Was passiert wenn kein Ergebnis gefunden wird?</strong></p>  <p><a href="http://blog.thomasbandt.de/39/2333/de/blog/null-verstaendnis.html">Thomas sein ursprünglicher Gedanke: Null</a>.     <br />Das Problem dabei: Man muss es prüfen und es wird nicht wirklich erwartet (einfach die vielen Kommentare lesen).</p>  <p>Jürgen Gutsch hat die vielen verstreuten Posts <a href="http://www.aspnetzone.de/blogs/juergengutsch/archive/2010/05/03/katastrophenfall-null.aspx">in einem Blogpost</a> mal zusammengefasst.</p>  <p><strong>Das was ich aus der Diskussion mitgenommen habe:</strong></p>  <ul>   <li>Im Normalfall niemals NULL zurückgegeben      <ul>       <li>Man erwartet es nicht und es gibt bessere Varianten </li>     </ul>   </li>    <li>Wenn ein Objekt erwartet wird:      <ul>       <li>bei einer "Get” Methode eine Exception werfen wenn das gewünschte nicht gefunden wurde </li>        <li>evtl. eine "Find” mit speziellen Rückgabetypen (ReturnCodes/bool/IResultWrapper) oder "TryXXX” Methode mit einem out Parameter anbieten.          <ul>           <li>Um die Lesbarkeit zu erhöhen hat sich <a href="http://ralfw.blogspot.com/2010/05/nullonade-monade-statt-null.html">Ralf ein paar Gedanken</a> gemacht </li>         </ul>       </li>     </ul>   </li>    <li>Wenn eine Collection erwartet wird:      <ul>       <li>Eine leere Collection zurückgeben </li>     </ul>   </li> </ul>  <p>Wichtig ist, dass die API intuitiv zu benutzen ist. NULL ist IMHO nicht wirklich intuitiv. Ich seh die ganze Sache auch aus Webentwicklersicht - ein Geräteprogrammierer mag das völlig anders sehen.</p>  <p>My 2 cents ;)</p>
