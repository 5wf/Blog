---
layout: post
title: "HowTo: Eigene Domains auf Windows Azure Applikationen mappen (*.cloudapp.net)"
date: 2010-12-16 01:36
author: robert.muehsig
comments: true
categories: [HowTo]
tags: [Azure, CNAME, Domain]
language: de
---
{% include JB/setup %}
<p><a href="{{BASE_PATH}}/assets/wp-images-de/image1140.png"><img style="border-bottom: 0px; border-left: 0px; margin: 0px 10px 0px 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" align="left" src="{{BASE_PATH}}/assets/wp-images-de/image_thumb322.png" width="188" height="73" /></a> </p>  <p>Wenn man erfolgreich eine Applikation auf <a href="{{BASE_PATH}}/2010/11/30/howto-eine-bestehende-webapp-nach-azure-migrieren/">Windows Azure deployed</a> hat und "produktiv” geschalten hat bekommt man automatisch eine URL nach dem Schema "NAME.cloudapp.net” spendiert. Doch wie kann ich "NAME.de” oder "www.NAME.de” auf die Azure Anwendung zeigen lassen? Die (kurze) Antwort:</p>  <p><strong>Weiterleitung und </strong>”<strong>CNAME” ist das Zauberwort</strong></p>  <p><strong>Szenario: Wir haben nun unsere App auf Azure und wollen nur noch die richtige Domain hinzufügen. Unsere TestApp.cloudapp.net soll über testapp.de aufrufbar sein.</strong></p>  <p>Meine Domains sind momentan über Hosteurope angemeldet, dort gibt es wie bei bestimmt allen Providern irgendeine Art von Domainverwaltung:</p>  <p><a href="{{BASE_PATH}}/assets/wp-images-de/image1141.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image_thumb323.png" width="497" height="286" /></a> </p>  <p><u>Der erste Eintrag würde folgendes wiederspiegeln:</u></p>  <p><strong><a href="http://testapp.de">http://testapp.de</a> zeigt auf folgende IP </strong></p>  <p><strong>Das Problem:</strong> Wir wissen die Azure IP nicht wirklich. Daher müssen wir hier entweder <strong>eine (nicht Azure) Maschine</strong> angeben <strong>oder</strong> man kann über den <strong>Hoster eine Weiterleitungsregel</strong> einrichten.</p>  <p><em>Bei dem Weg über eine eigene Maschine (welchen ich etwas blöd finde, aber naja) : Kann man im IIS 7 recht einfach auf eine andere Adresse umleiten lassen. <strong>HIER MUSS ICH AUF DIE WWW.* ADRESSE UMLEITEN. </strong></em></p>  <p><a href="{{BASE_PATH}}/assets/wp-images-de/image1142.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image_thumb324.png" width="360" height="256" /></a> </p>  <p><a href="{{BASE_PATH}}/assets/wp-images-de/image1143.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images-de/image_thumb325.png" width="244" height="200" /></a> </p>  <p><u>Der zweite Eintrag ist nun interessant:</u></p>  <p>Hier lege ich einen <a href="http://en.wikipedia.org/wiki/CNAME_record">CNAME</a> an, quasi <a href="http://www.testapp.de"><strong>http://www.testapp.de</strong></a> - ein CNAME geht nur wenn eine "Subdomain” davor ist. Der CNAME zeigt ganz einfach auf testapp.cloudapp.net.</p>  <p><strong>Requestflow:</strong></p>  <p><a href="http://testapp.de"><strong>http://testapp.de</strong></a><strong> -&gt; wird umgeleitet zu </strong><a href="http://www.testapp.de"><strong>http://www.testapp.de</strong></a><strong> und der geht quasi auf die Azure Plattform</strong>. Ohne www oder eine andere Subdomain (es würde auch app.testapp.de gehen) geht es technisch nicht.</p>  <p>Der Nutzer selbst bekommt aber eigentlich <strong>nie</strong> die cloudapp.net Adresse zu sehen.</p>  <p>Tadaaaa! :)</p>  <p><strong>Weitere Infos:</strong></p>  <ul>   <li><a href="http://blog.smarx.com/posts/custom-domain-names-in-windows-azure">Custom Domain Names in Windows Azure</a></li>    <li><a href="http://blog.smarx.com/posts/using-the-new-windows-azure-cdn-with-a-custom-domain">Using the New Windows Azure CDN with a Custom Domain</a></li> </ul>
