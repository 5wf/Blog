---
layout: post
title: "HowTo: ASP.NET MVC - Was ist es und warum sollte man es sich anschauen?"
date: 2008-10-06 00:22
author: robert.muehsig
comments: true
categories: [HowTo]
tags: [ASP.NET MVC, MVC; ASP.NET, TDD; HowTo]
---
<p>Ich habe bereits vor einiger Zeit mich mit dem <a href="http://code-inside.de/blog/tag/aspnet-mvc/">MVC Framework</a> beschäftigt und möchte nun (nachdem bereits die <a href="http://code-inside.de/blog/2008/08/29/aspnet-mvc-preview-5-auf-codeplex/">Preview 5 zum Download</a> bereitsteht und die Beta demnächst kommt) auf die Grundlagen von <a href="http://www.asp.net/mvc/">ASP.NET MVC</a> eingehen und im ersten Post erst mal auf das "Warum sollte ich das mir mal anschauen und was ist es eigentlich?" eingehen. Source Code und was man damit alles genau anstellen kann folgen in den nächsten HowTos.</p> <p><strong>Wofür steht das "MVC"?</strong></p> <p>MVC steht für Model-View-Controller und ist bereits ein <a href="http://de.wikipedia.org/wiki/Model_View_Controller">recht altes Entwurfsmuster aus dem Jahre 1979</a>. Der Grundgedanke von diesem Entwurfsmuster ist einfach die Teilung der Zuständigkeiten (oder als engl. Abkürzung "<a href="http://en.wikipedia.org/wiki/Separation_of_concerns">SoC</a>") :</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image544.png"><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="163" alt="image" src="{{BASE_PATH}}/assets/wp-images/image-thumb522.png" width="329" border="0"></a> </p> <p>Diese 3 Teile lassen sich kurz so beschreiben:</p> <ul> <li>Model: Die "Daten" der Anwendung  <li>View: Wie sollen die Daten dargestellt werden?  <li>Controller: Die eigentliche Logik welche die Daten lädt oder ändert und den View die Daten übergibt.</li></ul> <p>Ein gutes Beispiel wo wir täglich mit dem MVC Pattern (Pattern = engl. für Entwurfsmuster) in Berührung kommen ist der <a href="http://www.codinghorror.com/blog/archives/001112.html">Browser</a>.</p> <p><strong>Warum ASP.NET MVC?</strong></p> <p>Das momentan aktuelle ASP.NET Modell&nbsp; ("WebForms") bringt viel Abstraktion in die Webentwicklung, um sie möglichst nahe an die Windowsentwicklung rankommen zu lassen. Dabei gibt es verschiedenste Tricks aber auch Probleme - um mal ein paar Schlagwörter zu bringen:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image545.png"><img style="border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="240" alt="image" src="{{BASE_PATH}}/assets/wp-images/image-thumb523.png" width="250" border="0"></a> </p> <p>Der "Viewstate" ist eine Technik um dem zustandlosen HTTP einen Zustand zu geben - das bringt allerdings einige Komplexität mit sich. Das hängt auch stark mit dem "Postback" Mechanismus und dem recht großen "<a href="http://www.eggheadcafe.com/articles/20051227.asp">Lifecycle</a>" zusammen. <br>Im Zusammenspiel mit dem Zwang das immer eine HTML Form mit "runat=server" dabei sein muss und das die ASP.NET Controls ihr eigenes HTML rendern und man somit nur wenig Kontrolle über das Ergebnis hat, wird der Zugriff natürlich über Javascript und co. recht schwierig - von <a href="http://de.wikipedia.org/wiki/Suchmaschinenoptimierung">SEO</a> ganz zu schweigen. Im schlimmsten Falle vermischt sich UI Code der in der Codehinde liegt mit Businesslogik und schon wird die Wartung recht teuer.</p> <p><strong><u>Achtung:</u></strong> Viele hier aufgezählte Sachen sind nicht unbedingt schlecht - wer sich in der aktuellen Arbeitswelt mit ASP.NET wohl fühlt braucht sich nicht zu fürchten - ASP.NET MVC ersetzt nicht ASP.NET WebForms. <strong>Beide Modelle werden weiterentwickelt</strong>. </p> <p><strong>Was bringt ASP.NET MVC?</strong></p> <p>Diese Frage habe ich versucht in einem recht <a href="http://code-inside.de/blog/2007/11/15/was-das-aspnet-mvc-modell-bringt/">alten Blogpost</a> bereits zu beantworten. Es gibt von der letzten Mix noch eine gute Präsentation von <a href="http://www.hanselman.com/">Scott Hanselman</a> zu <a href="http://www.hanselman.com/blog/ASPNETMVCSessionAtMix08TDDAndMvcMockHelpers.aspx">ASP.NET MVC</a>. </p> <p>Ein paar kurze Punkte "was es bringt" und "was es kann":</p> <ul> <li>Bessere Testbarkeit  <li>Volle Kontrolle über gerenderten HTML Code  <li>Ist an (fast?) allen Ecken erweiterbar  <li>Klare Trennung von UI / Logik / Domain Modell (wenn man nichts arg falsch macht ;) )</li></ul> <p>Es hat zudem starke Ähnlichkeiten mit Ruby on Rails oder andere MVC Frameworks, wie Struts für Java.</p> <p><strong>Was haben wir nun also von ASP.NET MVC?</strong></p> <p>Durch MVC haben wir, wie bereits erwähnt, eine Alternative für alle, die volle Kontrolle über das gerenderte HTML haben möchten und denen die Abstraktion von "WebForms" zu weit ging. Das kann sich natürlich durch die Testbarkeit auch auf die Qualität der Software am Ende niederschlagen. </p> <p><strong>Von was man Abschied nehmen muss:</strong></p> <p>Die momentanen Standard-ASP.NET Control funktionieren meistens nicht mehr, da diese auf die Postback-Funktionalität aufsetzen. So kann man z.B. das Gridview nicht verwenden - allerdings kann man es mit wenig Aufwand selber implementieren oder im Internet kurz rumforschen. Ich werde in einem der nächsten HowTos ebenfalls auf solche Standardthemen eingehen. <br>Alles was nicht auf den Viewstate oder auf Postbacks zurückgreift, kann man jedoch weiterhin verwenden - es ist nur ASP.NET :)</p> <p>Scott Hanselman hat in einem Blogpost beschrieben wie <a href="http://www.hanselman.com/blog/PlugInHybridsASPNETWebFormsAndASPMVCAndASPNETDynamicDataSideBySide.aspx">ASP.NET MVC, WebForms und Dynamic Data in einem Projekt harmonieren</a> können. Da natürlich auch der Lifecycle komplett anders ist als bei "normalen" ASP.NET Webseiten muss man sich da natürlich in Richtung MVC umstellen. Was das bedeutet (und das es eigentlich sehr eingängig ist), werde ich ebenfalls später zeigen.</p> <p>Dies sollte als "Einstiegsworte" erst einmal genügen. Wer Fragen hat, der kann diese wie immer gerne hier stellen.</p>
