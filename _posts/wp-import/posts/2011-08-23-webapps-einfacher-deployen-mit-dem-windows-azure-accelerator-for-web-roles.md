---
layout: post
title: "WebApps einfacher deployen mit dem Windows Azure Accelerator for Web Roles"
date: 2011-08-23 23:36
author: robert.muehsig
comments: true
categories: [Allgemein]
tags: [Azure, Deployment, Websites, Windows Azure]
---
{% include JB/setup %}
<p>Der durchaus eingängige Name ( ;) ) steht für ein relativ cleveres Deploymentmodell für Windows Azure. Grundlage bildet die Tatsache, dass die <a href="http://blogs.msdn.com/b/windowsazure/archive/2010/12/02/new-full-iis-capabilities-differences-from-hosted-web-core.aspx">Web Rollen von Azure seit einigen Versionen bereits in der Lage sind den vollen IIS zu nutzen</a>.</p> <p>Das heisst, in einer Web-Rolle können unter anderem mehrere Webseiten laufen. Die Konfiguration dessen war allerdings <a href="http://blogs.msdn.com/b/avkashchauhan/archive/2011/01/01/windows-azure-how-to-define-virtual-directories-in-service-definition-csdef-for-your-site.aspx">bisher etwas sperrig</a>.</p> <p><strong>Das beste daran noch:</strong> Man kann nun einfach<u> WebDeploy auf Azure nutzen</u> und es wird abgespeichert, sodass alle Sachen <strong>persistent</strong> im Blob Storage sind!</p> <p>Die Einrichtung dauert um die 10 Minuten&nbsp; (+ 15 Minuten einmaliges Deployment über den herkömmlichen Weg).</p> <p><strong>Was ist der “Windows Azure Accelerator for Web Roles”</strong></p> <p><a href="{{BASE_PATH}}/assets/wp-images/image1341.png"><img style="background-image: none; border-right-width: 0px; margin: 0px 5px 0px 0px; padding-left: 0px; padding-right: 0px; display: inline; float: left; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" align="left" src="{{BASE_PATH}}/assets/wp-images/image_thumb523.png" width="241" height="444"></a>Es ist im Grunde ein neues <a href="http://waawebroles.codeplex.com/">Projekttemplate</a>, welches gleichzeitig eine Art “Container-App” (den “Website Manager”) mitbringt. An diesem Projekt muss man nichts machen – man wird über einen Wizard geleitet und setz die benötigten Credentials für das WebDeploy.</p> <p>&nbsp;</p> <p>Auf der linken Seite sieht man die zwei benötigten Projekte:</p> <p>- ein normales Cloud Projekt mit der “Container” Anwendung. </p> <p>- Die Container App bzw. den “Web Site Manager”</p> <p>An der letzten Applikation muss man nichts verändern. Diese Applikation wird später die “WebDeploy” Packages entgegennehmen und in den Blob-Storage ablegen. Zudem sorgt diese Anwendung dafür, dass alle Instanzen mit den Konfigurieren Packages ausgestattet werden. Daher auch der Name “Container”. </p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p><strong>Nach dem Deployment…</strong></p> <p>Der “Web Site Manager” bietet nur “wenig” Konfigurationsmöglichkeiten. Über die Weboberfläche kann man neue IIS Bindings hinzufügen und den Synchronisierungsprozess (Packages aus Blob Storage auf Instanzen verteilen) managen – hier mal ein Screenshot:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image1342.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb524.png" width="559" height="233"></a></p> <p><strong>5-Minuten Einstieg…</strong></p> <p>Videos sagen mehr als 1000 Worte – hier ein 5 <a href="http://channel9.msdn.com/posts/Getting-Started-with-the-Windows-Azure-Accelerator-for-Web-Roles">Minuten Einstieg von Channel 9</a> </p><iframe style="width: 512px; height: 288px" src="http://channel9.msdn.com/posts/Getting-Started-with-the-Windows-Azure-Accelerator-for-Web-Roles/player?w=512&amp;h=288" frameborder="0" scrolling="no"></iframe> <p><strong></strong>&nbsp;</p> <p><strong>Die eigentliche Anwendung</strong></p> <p>Die eigentliche Anwendung, welche man auf Azure zum Laufen bringen möchte, muss garnichts von Azure wissen. Das WebDeploy könnte genauso auf einen normalen Windows Server gehen. (solange man die gesamten Azure Features nicht nutzen will (Blob Storage, Tables… ))</p> <p><strong>Wo bekommt man den “Windows Azure Accelerator for Web Roles” her?</strong></p> <p><a href="{{BASE_PATH}}/assets/wp-images/image1343.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: left; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" align="left" src="{{BASE_PATH}}/assets/wp-images/image_thumb525.png" width="94" height="102"></a><a href="{{BASE_PATH}}/assets/wp-images/image1344.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb526.png" width="240" height="47"></a></p> <p><strong><u>Auf </u></strong><a href="http://waawebroles.codeplex.com/"><strong><u>Codeplex</u></strong></a><strong><u>!</u></strong></p> <p>&nbsp;</p> <p><strong>Gibt es Nachteile?</strong></p> <p>Einziger Nachteil der mir einfällt ist, dass natürlich noch auf den Azure Instanzen zusätzlich der Web Site Manager läuft und (wie der Name schon verrät) nur für Web Rollen gedacht ist. Allerdings lässt der Name auch erahnen, dass vielleicht das Deployment auf Azure <a href="{{BASE_PATH}}/2011/02/22/automatisiertes-deployment-auf-windows-azure-ber-einen-buildserver-via-powershell/">deutlich einfacher wird</a>.</p>   <p><strong>Vielleicht wird es dadurch auch günstiger zu nutzen…</strong></p> <p>Ich kann mir auch vorstellen, dass es sich dadurch eher rechnet viele kleine Websiten auf Azure laufen zu lassen. Zwei Instanzen, welche mehrere Mini-Websites hosten, sind auf alle Fälle günstiger als jeweils eine eigene Instanz, welche sich evtl. doch nur langweilt. Müsste man mal testen…</p>
