---
layout: post
title: "HowToCode: Ein Blick in die Applikation - Logging und Log4Net Dashboard"
date: 2009-09-28 21:33
author: robert.muehsig
comments: true
categories: [HowToCode]
tags: [HowTo, HowToCode, log4net, logging]
---
{% include JB/setup %}
<p><a href="{{BASE_PATH}}/assets/wp-images/image825.png"><img style="border-right: 0px; border-top: 0px; margin: 0px 10px 0px 0px; border-left: 0px; border-bottom: 0px" height="79" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb9.png" width="158" align="left" border="0"></a>Es ist sehr wichtig zu wissen, was nach dem Deployment einer Anwendung "im innern" passiert - besonders im Fehlerfall kommt man bei einer Black-Box nicht sehr weit. Dieser Blogpost soll als eine Art Toolsammlung sein, die sich bei <a href="{{BASE_PATH}}/2009/09/06/diesachsende/">uns</a> bewährt haben.</p><!--more--> <p><strong>Die Basis:</strong></p> <p>Die Basis bildet <a href="{{BASE_PATH}}/2009/05/08/howto-logging-mit-log4net/">Log4Net</a>. Es gibt viele Provider, sodass man das Log entweder in die Datenbank, ins Filessystem oder sonstwo hin schreiben kann. Wir haben in unserem Projekt zudem noch ein "<a href="{{BASE_PATH}}/2009/05/13/howto-objekte-rekursiv-durchlaufen-ein-objectdumper-frs-logging-mittels-reflection/">ObjectDumper</a>" eingebaut, welcher ein komplettes Objekt durchläuft und rausloggt.</p> <p><strong>Was soll man alles loggen?</strong></p> <p>ich habe festgestellt, dass man eigentlich nie "zu viel" loggen kann. Je nachdem was nützlich sein könnte um einen Fehler zu finden ist es vielleicht wert geloggt zu werden. Wichtig ist: Es muss in irgendeiner Form aussagekräftig sein. Wie immer gilt: Es kommt auf den Anwendungsfall an :)</p> <p><strong>Log4Net Dashboard - Was ist das?</strong></p> <p>Damit wir nicht über den Text-Editor das Log öffnen müssen, haben wir uns eine Weboberfläche zum Betrachten der Logs gesucht. Gefunden haben wir das Produkt "<a href="http://www.l4ndash.com/">Log4Net Dashboard</a>".</p> <p><strong>Log4Net Dashboard - Was muss man tun?</strong></p> <p>Um das Log4Net Dashboard nutzen zu können, muss man XmlLogs erstellen. Dafür kann man z.B. den "log4net.Appender.RollingFileAppender" nehmen.</p> <p>Eine kurze Konfiguration später, hat man dann Zugriff über das Webfrontent.<br><em>Hinweis:</em> In der kostenlosen "Developer" Variante kann man nur über localhost zugreifen. Erst nach dem Kauf einer Lizenz, kann man auch von jedem beliebigen Rechner zugreifen.</p> <p><strong>Log4Net Dashboard - Screenshot:</strong></p> <p><strong>Ausprobieren: <a href="http://demo.l4ndash.com/">Live Demo</a></strong></p> <p><strong>Neue Log-Einträge:</strong></p> <p><a href="{{BASE_PATH}}/assets/wp-images/image826.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="288" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb10.png" width="550" border="0"></a> </p> <p><strong>Überblick:</strong></p> <p><a href="{{BASE_PATH}}/assets/wp-images/image827.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="387" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb11.png" width="555" border="0"></a> </p> <p>Das Tool ist nicht <a href="http://www.l4ndash.com/Purchase.aspx">allzu teuer</a> und es macht das analysieren einfacher. So spart man sich z.B. die Remoteverbindung zum Server und kann direkt aus dem Browser heraus nachschauen, was gerade (schief-) läuft.</p> <p><strong>Im Fehlerfall:</strong></p> <p>Falls doch ein Fehler passiert, nutzen wir <a href="{{BASE_PATH}}/2009/06/09/howto-elmah-in-aspnet-mvc-iis7-frs-errorlogging/">Elmah</a> um uns zu benachrichtigen und über die Weboberfläche Daten zu sammeln, wie es zu dieser unbehandelten Ausnahme kam.</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image828.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="302" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb12.png" width="403" border="0"></a>&nbsp;</p> <p><strong>Was nutzt ihr?</strong></p> <p>Welche Tools benutzt ihr um eure Anwendung im Auge zu behalten? </p>
