---
layout: post
title: "HowToCode &quot;ReadYou&quot;: Von Accounts & IDs - das Usersystem"
date: 2008-06-15 22:56
author: robert.muehsig
comments: true
categories: [HowToCode]
tags: ["ReadYou", Facebook, HowToCode, OpenID, OpenSocial, Windows Live]
---
{% include JB/setup %}
<p>Fast jede Anwendung die heute irgendwie läuft, benötigt ein Login oder man kann bestimmte Profildaten anhäufen etc. Daher ist das Usersystem die erste große Hürde, die es zu überwinden gilt.</p> <p>Solch ein Usersystem ist prinzipell recht schnell gemacht, allerdings muss das Usersystem laut den <a href="http://code-inside.de/blog/2008/06/05/howtocode-youread-was-soll-das-system-denn-leisten-gedanken-an-die-anforderungen/">Anforderungen</a> auch andere Provider (wie OpenID, Windows Live ID etc.) unterstützen.</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image457.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="306" alt="image" src="{{BASE_PATH}}/assets/wp-images/image-thumb436.png" width="495" border="0"></a> </p> <p>Im Mittelpunkt steht der "<strong>User</strong>" - in dem Fall ein ganz normaler Nutzer unser Applikation. Ein "User" kann mehrere "<strong>Identitäten</strong>" haben, z.B. eine Windows Live ID, eine OpenID oder auf ein eigenes Login-System setzen. Ob ich das später tatsächlich einbaue ist eine andere Sache, allerdings sollte das System möglichst "offen" sein.</p> <p>Dann hat natürlich unser "<strong>User</strong>" "<strong>Accountdaten</strong>" (also Profildaten etc.) die wir in unserer Applikation brauchen - die könnte man später z.B. über bestimmte Connectoren befüllen - das ist aber nur eine fixe Idee. </p> <p>Diese Accountdaten werden momentan durch diese recht einfache Userklasse repräsentiert:</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image458.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="224" alt="image" src="{{BASE_PATH}}/assets/wp-images/image-thumb437.png" width="239" border="0"></a> </p> <p><strong>Das "Problem" der Zuordnung</strong></p> <p>Mein selbst festgelegtes Ziel hat natürlich ein Haken: Ein User hat mehrere Identitäten - eine eindeutigen Namen brauch ich also, um genau zu sagen, dass Nutzer A der sich gerade mit seiner Windows Live ID anmeldet auch wirklich Nutzer A ist.<br>Dafür ist in der User-Klasse der "<strong>AccountName</strong>" vorgesehen - ein eindeutiger Name der zu beginn vom Nutzer festgelegt wird. <br>Die "<strong>ID</strong>" (eine GUID) wird in dem Falle vielleicht nicht mehr benötigt, allerdings könnte ja noch die Anforderunge rein kommen, dass jemand seinen Nutzernamen ändern möchte - daher die "<strong>ID</strong>".<br>Der "<strong>IdentificationName</strong>" ist der Name, mit dem der User sich gerade angemeldet hat, also wenn er z.B. seine OpenID angegeben hat, steht da "http://user.myopenid.com" da.</p> <p><strong>Ablauf der Anmeldung / Registrierung</strong></p> <p>1. User registriert sich mit einer beliebigen Identifikation ("IdentificationName") und einem Nickname ("AccountName")<br>2. User wird im System angelegt und in einer Zuordnungstabelle wird festgehalten, das User A mit der Identifikation A sich anmelden darf.<br>3. User meldet sich ab.<br>4. User meldet sich wieder mit seinem "IdentificationName" und dem dazugehörigen Passwort an (seinem OpenID-Passwort z.B.)<br>5. In der Zuordnungstabelle wird überprüft, ob User X sich mit der ID überhaupt anmelden darf, wenn ja, dann ist er eingeloggt.<br>6. Wenn er eingeloggt ist, darf er seine Accountdaten weiter pflegen.</p> <p><strong>Identification-Interface</strong></p> <p>Momentan ist das Interface noch recht "klein":</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image459.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="159" alt="image" src="{{BASE_PATH}}/assets/wp-images/image-thumb438.png" width="244" border="0"></a> </p> <p><strong>Ein Fall fürs Prototyping</strong></p> <p>Da ich momentan doch noch recht unsicher über das Design bin, werde ich erstmal ein paar Provider "prototypen", sodass ich sehen kann, ob es überhaupt so machbar wäre.</p> <p><strong>Fazit &amp; Feedback</strong></p> <p>Code gibt es heute leider nicht zu sehen, zwar läuft bereits ein UnitTest erfolgreich durch, allerdings muss mal ein, zwei "richtige" Loginsysteme integrieren um eine schlüssige Aussage machen zu können.</p> <p>Wie immer gilt: Feedback ist gern gesehen - wenn ihr sagt, dass ich mich hier total irre oder etwas wichtige übersehe, dann nur zu :)<br>Ich bemüh mich in dieser Woche ein Login-System auf die Beine zu stellen. Wenn dies erstmal steht schauen wir weiter ;)</p>
