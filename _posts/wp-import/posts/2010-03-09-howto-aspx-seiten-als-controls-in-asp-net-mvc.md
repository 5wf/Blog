---
layout: post
title: "HowTo: ASPX Seiten als Controls in ASP.NET MVC"
date: 2010-03-09 22:35
author: robert.muehsig
comments: true
categories: [HowTo]
tags: [ASP.NET MVC, HowTo, MVC]
---
{% include JB/setup %}
<p><a href="{{BASE_PATH}}/assets/wp-images/image932.png"><img style="border-right: 0px; border-top: 0px; margin: 0px 10px 0px 0px; border-left: 0px; border-bottom: 0px" height="160" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb117.png" width="160" align="left" border="0"></a> Über "RenderPartial" oder "RenderAction" kann man in ASP.NET MVC "Controls" einbinden. Das Tooling und durch das vorhandene ASP.NET Knowhow möchte man "Controls" immer als .ASCX erstellen. Dies ist allerdings garnicht nötig, da man auch ASPX Seiten als "Controls" nutzen kann. Diese bieten zudem den Vorteil, dass man eine Masterpage einbinden kann.</p><!--more--> <p><strong>"Death to ASCX!"</strong></p> <p>In einem größeren ASP.NET MVC Projekt hat es sich rausgestellt, dass man für "Controls" besser ASPX-Seiten (Views) nimmt, anstatt ASCX Datein. Wie bereits Jeffrey Palermo es in seinem <a href="http://jeffreypalermo.com/blog/asp-net-mvc-and-the-templated-partial-view-death-to-ascx/">Blogpost</a> beschrieben hat, bietet eine ASPX Seite einen wesentlichen Vorteil: Man kann eine Masterpage nutzen!</p> <p><strong>Szenario</strong></p> <p>In einer größeren ASP.NET MVC Anwendung die wir gerade bauen haben wir mehrere Komponenten. Diese werden entweder über <a href="http://www.velocityreviews.com/forums/t634717-asp-net-mvc-html-renderpartial-and-html-renderaction.html">RenderPartial</a> bzw. <a href="{{BASE_PATH}}/2009/09/14/howto-asp-net-mvc-renderaction-mit-parametern/">RenderAction</a> "angesprochen". Einige Komponenten ähnelten sich aber im HTML Markup sehr stark. <br>Es war immer wieder die gleiche &lt;div&gt; Struktur drumherum und um dem <a href="http://de.wikipedia.org/wiki/Don%E2%80%99t_repeat_yourself">DRY-Prinzip</a> gerecht zu werden haben wir den statischen HTML Content drumherum in eine Masterpage ausgelagert. Das "Control" selbst hat also nur noch um seinen eigenen Content zu kümmern - der "Rahmen" wird durch die Masterpage bestimmt.</p> <p><strong>Einfache Anwendung</strong></p> <p><a href="{{BASE_PATH}}/assets/wp-images/image933.png"><img style="border-right: 0px; border-top: 0px; margin: 0px 10px 0px 0px; border-left: 0px; border-bottom: 0px" height="236" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb118.png" width="238" align="left" border="0"></a> Wir haben zwei "Controls" - das AspxControl und das AscxControl. Für das AspxControl gibt es ein Control.Master, welcher ein wenig HTML Markup und ein Placeholder enthält.</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>Im eigentlichen View ruf ich dann durch den Html.RenderPartial Helper einfach die Controls auf. Dem Helper ist es egal, ob es eine .ASPX oder .ASCX Datei ist - er sucht nach beiden Varianten!</p> <p> <div class="wlWriterSmartContent" id="scid:812469c5-0cb0-4c63-8c15-c81123a09de7:e8885f66-30ce-4677-bdff-8e3739e28266" style="padding-right: 0px; display: inline; padding-left: 0px; float: none; padding-bottom: 0px; margin: 0px; padding-top: 0px"><pre name="code" class="c#">    &lt;% Html.RenderPartial("AscxControl"); %&gt;
    &lt;% Html.RenderPartial("AspxControl"); %&gt;
 </pre></div></p>
<p>Nichts Weltbewegendes, aber es kann helfen das sich HTML Markup nicht immer wieder doppelt.</p>
<p><strong><a href="http://{{BASE_PATH}}/assets/files/democode/ascxtoaspx/ascxtoaspx.zip">[Download Democode]</a></strong></p>
