---
layout: post
title: "404-Error: Directory schlägt ASP.NET MVC Routing"
date: 2012-07-12 00:19
author: robert.muehsig
comments: true
categories: [Fix]
tags: [ASP.NET MVC, Routing]
---
{% include JB/setup %}
<p>Ich hatte ein kleines Routing Problem mit einer ASP.NET MVC Website und durch die Lösung ein kleines “Aha! Logisch!”-Erlebnis – vll. geht es anderen ja genauso ;)</p> <p><strong>Grundproblem:</strong></p> <p>Ich hatte ein Controller namens “ReportingController” und er liess sich nicht über localhost/Reporting aufrufen. Noch nichtmal der Debugger ist angesprungen – einfach nur eine 404. localhost/Reporting/Index funktionierte allerdings tadellos. Als ich den Controller anders genannt hatte funktionierten beide Varianten. (<em>Der “WTF!” Moment</em>) </p> <p>Da ich etwas ratlos war musste ein <a href="https://twitter.com/robert0muehsig/status/222704828114149377">Verzweiflungstweet</a> geschrieben werden. Als Antwort bekam ich den entscheidenden Tipp von <a href="https://twitter.com/d03n3rfr1tz3">Dirk</a>.</p> <p><a href="{{BASE_PATH}}/assets/wp-images/image1573.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="{{BASE_PATH}}/assets/wp-images/image_thumb734.png" width="449" height="276"></a></p> <p><strong>Lösung:</strong> Ich hatte auf Root-Ebene einen Ordner “Reporting”. ASP.NET hat den Request zu dem Ordner umgeleitet und da dort keine Index.html oder Default.html lag wurde ein 404 zurückgegeben. Am Ende habe ich den Ordner umbenannt und alles ging wieder.</p> <p><strong>“ContentController” oder “ScriptsController” – der einfachste Weg es nachzustellen</strong></p> <p><a href="{{BASE_PATH}}/assets/wp-images/image1574.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px 10px 0px 0px; padding-left: 0px; padding-right: 0px; display: inline; float: left; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" align="left" src="{{BASE_PATH}}/assets/wp-images/image_thumb735.png" width="217" height="211"></a></p> <p>Ein kleines Demoprojekt um den oberen Fall nachzustellen. Ruft man nun localhost/Content auf wird natürlich der Request in den Ordner “münden” und dort nichts vorfinden. Erst bei Content/Index wird die MVC Pipeline aktiv und funktioniert so wie Gedacht.</p> <p>Ich vermute einfach mal, dass die ASP.NET Pipeline “statischen” Objekten den Vorrang gibt und erst hinterher das eigentliche Routing aktiv wird.</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>Naja, wieder was gelernt.</p> <p>Frage wäre: Kann man diesen Mechanismus mit einfachen Mitteln “ausschalten” bzw. nur bestimmte Ordner wie Content / Scripts “freigeben” und alles andere muss durch das Routing? Wer Ideen hat, immer her damit (nur aus Interesse – so versessen bin ich nicht darauf).</p>
